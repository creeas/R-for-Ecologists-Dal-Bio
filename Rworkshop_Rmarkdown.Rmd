---
title: "Rworkshop Introduction to Rmarkdown"
author: "C mull"
date: "Feb 2022"
output:
  html_document:
    depth: 5
    highlight: pygments
    number_sections: no
    theme: spacelab
    toc: yes
    toc_float: yes
  pdf_document:
    toc: yes
  word_document:
    toc: yes
subtitle: Dalhousie Biology Graduate Module

---

#Rmarkdown introduction

## R Markdown
The rest of the course will be taught in R Markdown. We are doing this because your notes for future reference will be a lot more organized and easier to follow. 

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see here for a RMarkdown cheat sheet <https://www.rstudio.com/wp-content/uploads/2016/03/rmarkdown-cheatsheet-2.0.pdf>.

Also, see here for Rmarkdown tutorial: <https://rmarkdown.rstudio.com/lesson-3.html>.

Why Markdown? R Markdown documents are fully reproducible. They weave together your text, R code, and output to produce word, pdf, or html documents. Imagine not having to update your results paragraph each time your data changes..


When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. 

## Inline text options  

Some options for you text include:  
End a line with two spaces to start a new paragraph.  
*italics*  
**BOLD**  
`looks like R code`  
`r ` allows you to integrate an R object into text  
Provide a web address: <https://rmarkdown.rstudio.com/lesson-3.html>  
Or provide a [link](https://rmarkdown.rstudio.com/lesson-3.html) 


#Header 1 (biggest)

## Header 2

### Header 3 ..and so on to  

###### Header 6 (smallest)  

## Chunks  

To inset a chunk click the `Insert` button above or use the keyboard shortcut Ctrl + Alt + I (macs: Cmd + Option + I).  

Insert a chunk and inside the chunk write code to load up the `Cetacean.csv` data that we used previously. Then write out code that creates and object that is the number of species in our cetacean database.  
**ANSWER:**
```{r setup}
knitr::opts_knit$set(root.dir="/Users/cmull/Desktop/R courses/R Module/R-for-Ecologists-Dal-Bio/")
#can also use the "../" which works because our RMarkdown file is in the code folder, but we want to set the folder above "cRash-course" as our working directory when we knit the report.
#knitr::opts_knit$set(root.dir="../")
```



Insert a chunk and inside the chunk write code to print the first 6 entries in the database. 
**ANSWER:**
```{r load data}
data <- read.csv("Data/Cetaceans.csv")
head(data)
```



You can reference r objects in text. For example, you could write: There are `r length(unique(data$X.Species.))` species in our database. 


Write out text that calls up the object numspecies in text.  
**ANSWER:**



#Chunk options  
The text between the `{r }` defines some of the chunk options. 

Chunk Options (see here: <https://rmarkdown.rstudio.com/lesson-3.html>)

Most common (can use more than one):  
`{r include = FALSE}` prevents code and results from appearing in the finished file. R Markdown still runs the code in the chunk, and the results can be used by other chunks.  
`{r echo = FALSE}` prevents code, but not the results from appearing in the finished file. This is a useful way to embed figures.  
`{r message = FALSE}` prevents messages that are generated by code from appearing in the finished file.  
`{r warning = FALSE}` prevents warnings that are generated by code from appearing in the finished.  
`{r fig.cap = "..."}` adds a caption to graphical results.  
`{r eval = FALSE}` R code won't be run when knitting 

Insert a chunk and write code in the chunk that subsets the `data` database to include only `Delphinusdelphis` species that are > than 10 years old. Also, include code in the chunk so that we don't see the R code on the output.  
**ANSWER:**

`{r include = FALSE}` output:

What is the difference with `{r echo = FALSE}`?
`{r echo = FALSE}` output:  
**ANSWER:**




Use the knitr package to have a nicer looking dataframe, suppress the warning message you get when you load the package with `warning = FALSE`, and suppressing the R code with `echo = FALSE`.
```{r echo = FALSE, warning=FALSE}
library(knitr)
data_head <- head(data)
kable(data_head, digits = 2)
```

You can name your chunks for easier reference (see below).
```{r load_library, include=FALSE}
library(dplyr)
library(ggplot2)
library(knitr)

```

You can set global options (that apply to all chunks). This does not override each chunk setting.
```{r setup2, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
#this defines the global options. So here you are saying print the R code in each of the chunks
```

## Including Plots

You can embed plots. Write out the R code that would generate a boxplot of species by age. If we just want the plot and not the R code what chunk option would we use? `{r echo=FALSE}`.  
If  we want the plot and the code, what would we use? `{r }`.  
If we wanted the nothing to be printed, what would we use?  
**ANSWER:**

```{r plot, echo=FALSE, fig.align="center", fig.width=10, fig.height=10, fig.cap="Figure 1: Distribution of ages by cetacean species."}
names(data)
plot (Age~as.factor(X.Species.), data = data)
```

Your turn to try plotting. Add code to plot females, males ages separately versus species on the same plot. First subset the data to get rid of Sex = 0 entries, then plot just the 1 and 2's
**ANSWER:**

